#+title: Very happy with Emacs pretest
#+date: <2016-04-17>
#+keywords: emacs, pretest
#+setupfile: ../org-templates/post.org

I decided to use pretest version of Emacs instead of a stable release
and so far it turned out to be a pleasant experience.

#+CAPTION: Emacs pretest
#+ATTR_HTML: :alt Emacs pretest :title Emacs pretest
#+ATTR_HTML: :width 100% :height
[[file:images/posts/happy_emacs/emacs-pretest.png]]

For those who don't have any idea, you can visit
[[http://alpha.gnu.org/gnu/emacs/pretest/][http://alpha.gnu.org/gnu/emacs/pretest/]]] and download the latest
version. Compiling and using should not be a problem. But still for
newcomers, following are the steps:

- Download and extract the latest pretest version.
  #+BEGIN_SRC sh -n
    wget -Nc --show-progress http://alpha.gnu.org/gnu/emacs/pretest/emacs-25.0.92.tar.xz
    tar xvJf emacs-25.0.92.tar.xz
  #+END_SRC

- Configure and compile.
  #+BEGIN_SRC sh
    cd emacs-25-0.92
  #+END_SRC

  Make sure you have `/opt/emacs-pretest` directory present.
  #+BEGIN_SRC bash
    sudo mkdir -p /opt/emacs-pretest
  #+END_SRC

  Configure the build environment
  #+BEGIN_SRC sh
    ./configure --prefix=/opt/emacs-pretest --host=x86_64-fedora23-linux-gnu
  #+END_SRC

  Build from source
  #+BEGIN_SRC sh
    make
  #+END_SRC

  =make= will take time depending on your system specs

  If you are unaware of the flags:
  - =--prefix= makes sure that the final binary(with directory
    structure) will be copied inside =/opt/emacs-pretest/= when you
    run =make install=

  - =--host= ensures that when you do =M-x version=, it should return
    =x86_64-fedora23-linux-gnu= instead of =x86_64-unknown-linux-gnu=.
    Feel free to experiment but make sure the string ends with 'linux'
    or 'gnu'.

    If the =make= is successful, you can go head and try the build using.
    #+BEGIN_SRC sh
      src/emacs
    #+END_SRC

    Now try querying the version within Emacs.
    #+BEGIN_SRC emacs-lisp
      M-x version
    #+END_SRC


- Install

  Try out Emacs with your custom configuration. When you are happy,
  you can proceed toward installation.
  #+BEGIN_SRC sh
    sudo make install
  #+END_SRC

  Emacs binary will reside in =/opt/emacs-pretest/bin/emacs=. This is
  symbolic link to the file =/opt/emacs-pretest/bin/emacs-25.0.92=

If everything goes well, you can add this binary to your launch
application or just create a desktop shortcut.

You should keep the stable version of Emacs as a backup. Till now, I
never faced any problem and will continue using Emacs-pretest as my
default.

If you encounter any issues during =make=, make sure you have all
dependencies installed. If you think, there is an issue in the pretest
release and needs to be fixed, make sure that it is reproducible
before notifying /emacs-devel@gnu.org/. You can also ask for help on
IRC at freenode, channel *#emacs*.

** Update: (June 26, 2019)

I use most recent version of GNU/Emacs available from the [[https://git.savannah.gnu.org/git/emacs.git][master]] branch. Below
are the steps:
#+BEGIN_SRC shell -n
  git clone https://git.savannah.gnu.org/git/emacs.git  # use `--depth 1` if you don't want to pull entire history
  make clean all
  ./configure --host=x86_64-fedora-gnu --with-mailutils --prefix=$HOME/source/emacs/build --bindir=$HOME/bin
  make -j 4
  make install
#+END_SRC

Below is the Desktop entry:
#+BEGIN_SRC shell -n
  [Desktop Entry]
  Name=Emacs-BleedingEdge
  GenericName=Text Editor
  Comment=Text editing
  MimeType=text/english;text/plain;text/x-makefile;text/x-c++hdr;text/x-c++src;text/x-chdr;text/x-csrc;text/x-java;text/x-moc;text/x-pascal;text/x-tcl;text/x-tex;application/x-shellscript;text/x-c;text/x-c++;
  Exec=/home/psachin/bin/emacs %f
  Icon=emacs
  Type=Application
  Terminal=false
  Categories=Utility;TextEditor;X-Red-Hat-Base;
  StartupWMClass=Emacs
  X-Desktop-File-Install-Version=0.22
#+END_SRC

#+INCLUDE: "../disquss.inc"
